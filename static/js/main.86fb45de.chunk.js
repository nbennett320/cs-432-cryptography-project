(this["webpackJsonpcs-432-cryptography-project"]=this["webpackJsonpcs-432-cryptography-project"]||[]).push([[0],{42:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(23),r=a.n(i),o=a(10),s=a(53),l=a(52),j=a(1),b={navbar:{backgroundColor:"#f8f9fa"}},d=function(e){return Object(j.jsxs)(s.a,{expand:"lg",bg:"light",style:b.navbar,children:[Object(j.jsx)(s.a.Brand,{href:"/",children:"CS 432 Cryptography Project"}),Object(j.jsxs)(l.a,{className:"mr-auto",children:[Object(j.jsx)(l.a.Link,{onClick:e.navigateHome,children:"Home"}),Object(j.jsx)(l.a.Link,{href:"https://github.com/nbennett320/cs-432-cryptography-project",children:"About"})]})]})},u=a(56),h=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(u.a.Title,{children:["Filename: ",e.image.getName()]}),Object(j.jsxs)(u.a.Text,{children:["Image resolution: ",e.image.getHeight()," \xd7",e.image.getWidth()," pixels",Object(j.jsx)("br",{}),"File type: ",e.image.getFileType(),Object(j.jsx)("br",{}),"Size: ",e.image.getFileSize(),Object(j.jsx)("br",{}),e.children]})]})},O=a(49),f=function(e){var t=c.a.useRef();return Object(j.jsxs)(O.a,{onClick:function(){t.current.click()},variant:"primary",children:["Upload",Object(j.jsx)("input",{type:"file",ref:t,onChange:function(t){var a=t.target.files[0];e.handleFileUpload(a)},style:{display:"none"}})]})},g={card:{width:"18rem",marginTop:"9rem",alignSelf:"center"}},p=function(e){return Object(j.jsx)("div",{className:"view",children:Object(j.jsx)(u.a,{style:g.card,children:Object(j.jsxs)(u.a.Body,{children:[Object(j.jsx)(u.a.Title,{children:"Select file"}),Object(j.jsx)(u.a.Text,{children:"Upload a photo or audio file you wish to encode with a message or extract a message from."}),Object(j.jsx)(f,{handleFileUpload:function(t){t&&(console.log("filetype js:",typeof t),e.setView("file-options"),e.image.loadFile(t))}})]})})})},m=a(50),x=(a(42),{card:{width:"36rem",marginTop:"9rem",alignSelf:"center"},cardImg:{width:"100%",alignSelf:"center",objectFit:"cover",overflow:"hidden"}}),v=function(e){var t=c.a.useState(!1),a=Object(o.a)(t,2),n=a[0],i=a[1],r=c.a.useState(!1),s=Object(o.a)(r,2),l=s[0],b=s[1];return c.a.useEffect((function(){e.image.parse().then((function(){i(!0)}),[n])})),Object(j.jsx)("div",{className:"view",children:Object(j.jsxs)(u.a,{style:x.card,children:[Object(j.jsx)(u.a.Img,{className:["expand-transition",l?"image-preview image-preview--expanded":"image-preview"],src:e.image.getUrl(),style:x.cardImg,variant:"top"}),Object(j.jsxs)(u.a.Body,{children:[Object(j.jsxs)(u.a.Title,{children:["Filename: ",e.image.getName()]}),Object(j.jsxs)(u.a.Text,{children:["Image resolution: ",e.image.getHeight()," \xd7",e.image.getWidth()," pixels",Object(j.jsx)("br",{}),"File type: ",e.image.getFileType(),Object(j.jsx)("br",{}),"Size: ",e.image.getFileSize(),Object(j.jsx)("br",{})]}),Object(j.jsxs)(m.a,{children:[Object(j.jsx)(O.a,{onClick:function(){e.setView("encode-file")},variant:"outline-primary",children:"Encode a message"}),Object(j.jsx)(O.a,{onClick:function(){e.setView("decode-file")},variant:"outline-primary",children:"Decode from media"}),Object(j.jsxs)(O.a,{onClick:function(){return b(!l)},variant:"outline-primary",children:[l?"Hide":"Show"," Full Image"]})]})]})]})})},w=a(9),y=a.n(w),k=a(11),P=a(51),C=a(54),I={container:{margin:"12px 0"}},S=function(e){return Object(j.jsx)("div",{style:I.container,children:Object(j.jsxs)(P.a,{children:[Object(j.jsx)(P.a.Prepend,{children:Object(j.jsx)(P.a.Text,{children:"Message:"})}),Object(j.jsx)(C.a,{onChange:function(t){return e.setMessage(t.target.value)},as:"textarea","aria-label":"With textarea"})]})})},F=a(16),_=a(2),B=a(7),T=function(e){var t=String.fromCharCode(parseInt(e,2));return console.log("ch",t),t},N=Object(B.a)("_isValidLength"),U=Object(B.a)("_imageParser"),L=Object(B.a)("_message"),V=function e(t,a){var n=this;Object(F.a)(this,e),this.encode=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){for(var t,a=Object(_.a)(n,U)[U].getPixelBuffer(),c=a.data,i=(t=Object(_.a)(n,L)[L],Array.from(t).reduce((function(e,t){return e.concat(t.charCodeAt().toString(2))}),[]).map((function(e){return"0".repeat(8-e.length)+e})).join("")),r=0,o=0,s=0;o<c.length&&(c[o+2]%2===0?1===parseInt(i[r])&&(c[o+2]+=1):0===parseInt(i[r])&&(c[o+2]-=1),!((r+=1)>=i.length));o+=4,s++);Object(_.a)(n,U)[U].setPixelBuffer(a).then((function(t){e(t)}))})));case 1:case"end":return e.stop()}}),e)}))),Object.defineProperty(this,N,{writable:!0,value:function(){}}),Object.defineProperty(this,U,{writable:!0,value:void 0}),Object.defineProperty(this,L,{writable:!0,value:void 0}),Object(_.a)(this,U)[U]=t,Object(_.a)(this,L)[L]=a},H={card:{width:"36rem",marginTop:"9rem",alignSelf:"center"},cardImg:{width:"100%",alignSelf:"center",objectFit:"cover",overflow:"hidden"},bold:{fontWeight:"500"}},R=function(e){var t=c.a.useState(""),a=Object(o.a)(t,2),n=a[0],i=a[1],r=c.a.useState(e.image.getUrl()),s=Object(o.a)(r,2),l=s[0],b=s[1],d=c.a.useState("default"),f=Object(o.a)(d,2),g=f[0],p=f[1],x=function(){var e=Object(k.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new V(t,a),e.next=3,n.encode().then((function(e){b(e),console.log("renewed url:",e),console.log("renewed src:",l),p("has-encoded")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"view",children:Object(j.jsxs)(u.a,{style:H.card,children:[Object(j.jsx)(u.a.Img,{className:["expand-transition","image-preview image-preview--expanded"],src:l,style:H.cardImg,variant:"top"}),Object(j.jsxs)(u.a.Body,{children:[Object(j.jsx)(h,{image:e.image,children:"has-encoded"===g&&Object(j.jsxs)("span",{children:[Object(j.jsx)("b",{style:H.bold,children:"Message encoded!"})," Click the button below to download your steganographic photo."]})}),Object(j.jsx)(S,{setMessage:i}),"default"===g&&Object(j.jsxs)(m.a,{children:[Object(j.jsx)(O.a,{onClick:function(){return x(e.image,n)},variant:"outline-primary",children:"Encode"}),Object(j.jsx)(O.a,{onClick:function(){},variant:"outline-secondary",children:"Back"})]}),"has-encoded"===g&&Object(j.jsxs)(m.a,{children:[Object(j.jsx)(O.a,{onClick:function(){return function(){var t=document.createElement("a");t.download="encoded_".concat(e.image.getName()),t.href=l,t.click()}()},variant:"outline-primary",children:"Download file"}),Object(j.jsx)(O.a,{onClick:function(){},variant:"outline-secondary",children:"Back"})]})]})]})})},E=a(55),M={container:{padding:"8px",backgroundColor:"#f8f9fa"},code:{backgroundColor:"#f8f9fa"}},z=function(e){return Object(j.jsx)(u.a.Text,{style:M.container,children:Object(j.jsx)("code",{style:M.code,children:e.message})})},D=Object(B.a)("_imageParser"),W=function e(t){var a=this;Object(F.a)(this,e),this.decode=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){for(var t=Object(_.a)(a,D)[D].getPixelBuffer().data,n=0,c="",i="",r=0,o=0;r<t.length;r+=4,o++){var s=[t[r],t[r+1],t[r+2]];if(r>0&&n%8===0){var l=T(c);if(!/^[ -~]+$/.test(l)){console.warn("Non-Ascii char found: 0b".concat(c));break}i+=l,c=""}else c+=s[2]%2;n+=1}return e(i.trim())})));case 1:case"end":return e.stop()}}),e)}))),Object.defineProperty(this,D,{writable:!0,value:void 0}),Object(_.a)(this,D)[D]=t},A={card:{width:"36rem",marginTop:"9rem",alignSelf:"center"},cardImg:{width:"100%",alignSelf:"center",objectFit:"cover",overflow:"hidden"},bold:{fontWeight:"500"},alert:{cursor:"pointer"}},$=function(e){var t=c.a.useState("default"),a=Object(o.a)(t,2),n=a[0],i=a[1],r=c.a.useState(),s=Object(o.a)(r,2),l=s[0],b=s[1],d=c.a.useState(!1),f=Object(o.a)(d,2),g=f[0],p=f[1],x=function(){var e=Object(k.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new W(t),e.next=3,a.decode().then((function(e){console.log("recieved:",e),b(e),i("has-decoded")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"view",children:Object(j.jsxs)(u.a,{style:A.card,children:[Object(j.jsx)(u.a.Img,{className:["expand-transition","image-preview image-preview--expanded"],src:e.image.getUrl(),style:A.cardImg,variant:"top"}),Object(j.jsxs)(u.a.Body,{children:[Object(j.jsx)(h,{image:e.image,children:"has-decoded"===n&&Object(j.jsxs)("span",{children:[Object(j.jsx)("b",{style:A.bold,children:"Message decoded!"})," Click the button below to copy the message to your clipboard."]})}),"has-decoded"===n&&Object(j.jsx)(z,{message:l}),Object(j.jsx)(E.a,{show:g,variant:"primary",onClick:function(){return p(!1)},style:A.alert,children:"Copied to clipboard!"}),"default"===n&&Object(j.jsxs)(m.a,{children:[Object(j.jsx)(O.a,{onClick:function(){return x(e.image)},variant:"outline-primary",children:"Decode"}),Object(j.jsx)(O.a,{onClick:function(){},variant:"outline-secondary",children:"Back"})]}),"has-decoded"===n&&Object(j.jsxs)(m.a,{children:[Object(j.jsx)(O.a,{onClick:function(){navigator.clipboard.writeText(l).then((function(){p(!0),setTimeout((function(){p(!1)}),6e3)}))},variant:"outline-primary",children:"Copy to clipboard"}),Object(j.jsx)(O.a,{onClick:function(){},variant:"outline-secondary",children:"Back"})]})]})]})})},J=Object(B.a)("_dec2HexCSubstr"),K=function e(t){var a=this;if(Object(F.a)(this,e),this.rgba={r:void 0,g:void 0,b:void 0,a:void 0},this.hex="",this.toPixel=function(e){a.rgba.r=e[0],a.rgba.g=e[1],a.rgba.b=e[2],a.rgba.a=e[3]/255;var t=Object(_.a)(a,J)[J](e[0]),n=Object(_.a)(a,J)[J](e[1]),c=Object(_.a)(a,J)[J](e[2]);return a.hex="#"+t+n+c,{rgba:a.rgba,hex:a.hex}},Object.defineProperty(this,J,{writable:!0,value:function(e){var t=e.toString(16);return t.length>1?t:"0".concat(t)}}),t){this.rgba.r=t[0],this.rgba.g=t[1],this.rgba.b=t[2],this.rgba.a=t[3]/255;var n=Object(_.a)(this,J)[J](t[0]),c=Object(_.a)(this,J)[J](t[1]),i=Object(_.a)(this,J)[J](t[2]);this.hex="#"+n+c+i}},q=Object(B.a)("_loadImage"),G=Object(B.a)("_validateImage"),Q=Object(B.a)("_isValidRange"),X=Object(B.a)("_imageHasLoaded"),Y=Object(B.a)("_isValidFile"),Z=Object(B.a)("_data"),ee=Object(B.a)("_url"),te=Object(B.a)("_img"),ae=Object(B.a)("_height"),ne=Object(B.a)("_width"),ce=Object(B.a)("_canvas"),ie=Object(B.a)("_ctx"),re=function e(t){var a=this;Object(F.a)(this,e),this.loadFile=function(e){Object(_.a)(a,G)[G](e)?(Object(_.a)(a,Y)[Y]=!0,Object(_.a)(a,Z)[Z]=e,Object(_.a)(a,ee)[ee]=URL.createObjectURL(e),console.log("loaded")):console.warn("Error loading file: ",e)},this.parse=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(_.a)(a,X)[X]){e.next=4;break}console.log("Image was already parsed: ",a),e.next=10;break;case 4:if(!Object(_.a)(a,Y)[Y]){e.next=9;break}return e.next=7,Object(_.a)(a,q)[q]().then((function(e){Object(_.a)(a,te)[te]=e,Object(_.a)(a,ae)[ae]=e.height,Object(_.a)(a,ne)[ne]=e.width,Object(_.a)(a,ce)[ce]=new OffscreenCanvas(e.width,e.height),Object(_.a)(a,ie)[ie]=Object(_.a)(a,ce)[ce].getContext("2d"),Object(_.a)(a,ie)[ie].drawImage(Object(_.a)(a,te)[te],0,0),Object(_.a)(a,X)[X]=!0}));case 7:e.next=10;break;case 9:console.error("Invalid file type: ",Object(_.a)(a,Z)[Z].type);case 10:case"end":return e.stop()}}),e)}))),this.getHeight=function(){if(Object(_.a)(a,Y)[Y])return Object(_.a)(a,ae)[ae]},this.getWidth=function(){if(Object(_.a)(a,Y)[Y])return Object(_.a)(a,ne)[ne]},this.getResolution=function(){if(Object(_.a)(a,Y)[Y])return[Object(_.a)(a,ae)[ae],Object(_.a)(a,ne)[ne]]},this.getName=function(){if(Object(_.a)(a,Y)[Y])return Object(_.a)(a,Z)[Z].name},this.getUrl=function(){if(Object(_.a)(a,Y)[Y])return Object(_.a)(a,ee)[ee]},this.getFileType=function(){if(Object(_.a)(a,Y)[Y])return/^image\/(png|jpe?g|gif)$/.exec(Object(_.a)(a,Z)[Z].type)[1]},this.getFileSize=function(){if(Object(_.a)(a,Y)[Y]){var e=Object(_.a)(a,Z)[Z].size,t=e/1e3,n=e/1e6;return n>1?"".concat(n," Mb"):t>1?"".concat(t," Kb"):"".concat(e," B")}},this.getPixel=function(e,t){if(Object(_.a)(a,Y)[Y]&&Object(_.a)(a,X)[X]){if(Object(_.a)(a,Q)[Q](e,t)){var n=Object(_.a)(a,ie)[ie].getImageData(e,t,1,1).data;return new K(n)}console.error("Not a valid pixel; (".concat(e,", ").concat(t,") is not in range of (").concat(Object(_.a)(a,ne)[ne],", ").concat(Object(_.a)(a,ae)[ae],")"))}else Object(_.a)(a,X)[X]||console.error("Image has not loaded, call ImageParser.parse() first.")},this.getPixelBuffer=function(){if(Object(_.a)(a,Y)[Y]&&Object(_.a)(a,X)[X])return Object(_.a)(a,ie)[ie].getImageData(0,0,Object(_.a)(a,ne)[ne],Object(_.a)(a,ae)[ae]);Object(_.a)(a,X)[X]||console.error("Image has not loaded, call ImageParser.parse() first.")},this.setPixelBuffer=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){Object(_.a)(a,Y)[Y]&&Object(_.a)(a,X)[X]?(Object(_.a)(a,ie)[ie].putImageData(t,0,0),Object(_.a)(a,ce)[ce][Object(_.a)(a,ce)[ce].convertToBlob?"convertToBlob":"toBlob"]().then((function(t){Object(_.a)(a,ee)[ee]=URL.createObjectURL(t),e(Object(_.a)(a,ee)[ee]),console.log("new url set (parser)",Object(_.a)(a,ee)[ee])}))):Object(_.a)(a,X)[X]||console.error("Image has not loaded, call ImageParser.parse() first.")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._getCanvas=function(){return Object(_.a)(a,ce)[ce]},this._getCanvasContext=function(){return Object(_.a)(a,ie)[ie]},this.isLoaded=function(){return Object(_.a)(a,X)[X]},Object.defineProperty(this,q,{writable:!0,value:function(){return new Promise((function(e){var t=new Image;t.src=Object(_.a)(a,ee)[ee],t.onload=function(){return e(t)}}))}}),Object.defineProperty(this,G,{writable:!0,value:function(e){return/^image\/(png|jpe?g|gif)$/.test(e.type)}}),Object.defineProperty(this,Q,{writable:!0,value:function(e,t){return 0<=t<=Object(_.a)(a,ae)[ae]&&0<=e<=Object(_.a)(a,ne)[ne]}}),Object.defineProperty(this,X,{writable:!0,value:void 0}),Object.defineProperty(this,Y,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object.defineProperty(this,ee,{writable:!0,value:void 0}),Object.defineProperty(this,te,{writable:!0,value:void 0}),Object.defineProperty(this,ae,{writable:!0,value:void 0}),Object.defineProperty(this,ne,{writable:!0,value:void 0}),Object.defineProperty(this,ce,{writable:!0,value:void 0}),Object.defineProperty(this,ie,{writable:!0,value:void 0}),Object(_.a)(this,X)[X]=!1,t&&(Object(_.a)(this,G)[G](t)?(Object(_.a)(this,Y)[Y]=!0,Object(_.a)(this,Z)[Z]=t,Object(_.a)(this,ee)[ee]=URL.createObjectURL(t)):Object(_.a)(this,Y)[Y]=!1)},oe=(a(44),new re),se=function(){var e=c.a.useState(),t=Object(o.a)(e,2),a=t[0],n=t[1];return c.a.useEffect((function(){console.log("view changed: ",a)}),[a]),Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(d,{navigateHome:function(){return n("upload-file")}}),"upload-file"===a&&Object(j.jsx)(p,{setView:n,image:oe}),"file-options"===a&&Object(j.jsx)(v,{setView:n,image:oe}),"encode-file"===a&&Object(j.jsx)(R,{setView:n,image:oe}),"decode-file"===a&&Object(j.jsx)($,{setView:n,image:oe}),!a&&Object(j.jsx)(p,{setView:n,image:oe})]})};a(45),a(46);r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(se,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.86fb45de.chunk.js.map