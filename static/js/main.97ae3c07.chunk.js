(this["webpackJsonpcs-432-cryptography-project"]=this["webpackJsonpcs-432-cryptography-project"]||[]).push([[0],{43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),i=a.n(r),o=a(10),s=a(54),l=a(53),d=a(1),j={navbar:{backgroundColor:"#f8f9fa"}},b=function(){return Object(d.jsxs)(s.a,{expand:"lg",bg:"light",style:j.navbar,children:[Object(d.jsx)(s.a.Brand,{href:"/",children:"CS 432 Cryptography Project"}),Object(d.jsxs)(l.a,{className:"mr-auto",children:[Object(d.jsx)(l.a.Link,{onClick:function(){return window.location.reload()},children:"Home"}),Object(d.jsx)(l.a.Link,{href:"https://github.com/nbennett320/cs-432-cryptography-project",children:"About"})]})]})},h=a(57),u=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(h.a.Title,{children:["Filename: ",e.image.getName()]}),Object(d.jsxs)(h.a.Text,{children:["Image resolution: ",e.image.getHeight()," \xd7",e.image.getWidth()," pixels",Object(d.jsx)("br",{}),"File type: ",e.image.getFileType(),Object(d.jsx)("br",{}),"Size: ",e.image.getFileSize(),Object(d.jsx)("br",{}),e.children]})]})},O=a(50),f=a(51),g={container:{padding:"8px 0",paddingBottom:"12px"}},p=function(e){return Object(d.jsx)("div",{style:g.container,children:Object(d.jsxs)(O.a,{toggle:!0,children:[Object(d.jsx)(f.a,{checked:"red"===e.checked,onChange:function(){return e.handleChecked("red")},type:"radio",variant:"danger",children:"Red"}),Object(d.jsx)(f.a,{checked:"green"===e.checked,onChange:function(){return e.handleChecked("green")},type:"radio",variant:"success",children:"Green"}),Object(d.jsx)(f.a,{checked:"blue"===e.checked,onChange:function(){return e.handleChecked("blue")},type:"radio",variant:"primary",children:"Blue"}),e.showAlpha&&Object(d.jsx)(f.a,{checked:"alpha"===e.checked,onChange:function(){return e.handleChecked("alpha")},type:"radio",variant:"secondary",children:"Alpha"})]})})},x=a(34),m=function(e){var t=c.a.useRef();return Object(d.jsxs)(x.a,{onClick:function(){t.current.click()},variant:"primary",children:["Upload",Object(d.jsx)("input",{type:"file",ref:t,onChange:function(t){var a=t.target.files[0];e.handleFileUpload(a)},style:{display:"none"}})]})},v={card:{width:"18rem",marginTop:"9rem",alignSelf:"center"}},w=function(e){return Object(d.jsx)("div",{className:"view",children:Object(d.jsx)(h.a,{style:v.card,children:Object(d.jsxs)(h.a.Body,{children:[Object(d.jsx)(h.a.Title,{children:"Select file"}),Object(d.jsx)(h.a.Text,{children:"Upload a photo or audio file you wish to encode with a message or extract a message from."}),Object(d.jsx)(m,{handleFileUpload:function(t){t&&(console.log("filetype js:",typeof t),e.setView("file-options"),e.image.loadFile(t))}})]})})})},y=(a(43),{card:{width:"36rem",marginTop:"9rem",alignSelf:"center"},cardImg:{width:"100%",alignSelf:"center",objectFit:"cover",overflow:"hidden"}}),k=function(e){var t=c.a.useState(!1),a=Object(o.a)(t,2),n=a[0],r=a[1],i=c.a.useState(!1),s=Object(o.a)(i,2),l=s[0],j=s[1];return c.a.useEffect((function(){e.image.parse().then((function(){r(!0)}),[n])})),Object(d.jsx)("div",{className:"view",children:Object(d.jsxs)(h.a,{style:y.card,children:[Object(d.jsx)(h.a.Img,{className:["expand-transition",l?"image-preview image-preview--expanded":"image-preview"],src:e.image.getUrl(),style:y.cardImg,variant:"top"}),Object(d.jsxs)(h.a.Body,{children:[Object(d.jsxs)(h.a.Title,{children:["Filename: ",e.image.getName()]}),Object(d.jsxs)(h.a.Text,{children:["Image resolution: ",e.image.getHeight()," \xd7",e.image.getWidth()," pixels",Object(d.jsx)("br",{}),"File type: ",e.image.getFileType(),Object(d.jsx)("br",{}),"Size: ",e.image.getFileSize(),Object(d.jsx)("br",{})]}),Object(d.jsxs)(O.a,{children:[Object(d.jsx)(x.a,{onClick:function(){e.setView("encode-file")},variant:"outline-primary",children:"Encode a message"}),Object(d.jsx)(x.a,{onClick:function(){e.setView("decode-file")},variant:"outline-primary",children:"Decode from media"}),Object(d.jsxs)(x.a,{onClick:function(){return j(!l)},variant:"outline-primary",children:[l?"Hide":"Show"," Full Image"]}),Object(d.jsx)(x.a,{onClick:function(){return window.location.reload()},variant:"outline-primary",children:"Back"})]})]})]})})},C=a(9),P=a.n(C),I=a(11),S=a(52),_=a(55),B={container:{margin:"12px 0"}},T=function(e){return Object(d.jsx)("div",{style:B.container,children:Object(d.jsxs)(S.a,{children:[Object(d.jsx)(S.a.Prepend,{children:Object(d.jsx)(S.a.Text,{children:"Message:"})}),Object(d.jsx)(_.a,{onChange:function(t){return e.setMessage(t.target.value)},as:"textarea","aria-label":"With textarea"})]})})},F=a(16),N=a(2),U=a(7),V=function(e){var t=String.fromCharCode(parseInt(e,2));return console.log("ch",t),t},L=Object(U.a)("_mapChannelToIndex"),R=Object(U.a)("_isValidLength"),A=Object(U.a)("_imageParser"),M=Object(U.a)("_message"),E=Object(U.a)("_channel"),H=Object(U.a)("_channelIndex"),z=function e(t,a,n){var c=this;Object(F.a)(this,e),this.encode=Object(I.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){for(var t,a=Object(N.a)(c,A)[A].getPixelBuffer(),n=a.data,r=(t=Object(N.a)(c,M)[M],Array.from(t).reduce((function(e,t){return e.concat(t.charCodeAt().toString(2))}),[]).map((function(e){return"0".repeat(8-e.length)+e})).join("")),i=0,o=0,s=0;o<n.length&&(n[o+Object(N.a)(c,H)[H]]%2===0?1===parseInt(r[i])&&(n[o+Object(N.a)(c,H)[H]]+=1):0===parseInt(r[i])&&(n[o+Object(N.a)(c,H)[H]]-=1),!((i+=1)>=r.length));o+=4,s++);Object(N.a)(c,A)[A].setPixelBuffer(a).then((function(t){e(t)}))})));case 1:case"end":return e.stop()}}),e)}))),this.setColorChannel=function(e){Object(N.a)(c,E)[E]=e,Object(N.a)(c,H)[H]=Object(N.a)(c,L)[L]()},this.getColorChannel=function(){return Object(N.a)(c,E)[E]},Object.defineProperty(this,L,{writable:!0,value:function(){switch(Object(N.a)(c,E)[E]){case"red":return 0;case"green":return 1;case"blue":return 2;case"alpha":return 3;default:return 2}}}),Object.defineProperty(this,R,{writable:!0,value:function(){}}),Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,H,{writable:!0,value:void 0}),Object(N.a)(this,A)[A]=t,Object(N.a)(this,M)[M]=a,n?Object(N.a)(this,E)[E]=n:n="red",Object(N.a)(this,H)[H]=Object(N.a)(this,L)[L]()},D={card:{width:"36rem",marginTop:"9rem",alignSelf:"center"},cardImg:{width:"100%",alignSelf:"center",objectFit:"cover",overflow:"hidden"},bold:{fontWeight:"500"}},W=function(e){var t=c.a.useState(""),a=Object(o.a)(t,2),n=a[0],r=a[1],i=c.a.useState(e.image.getUrl()),s=Object(o.a)(i,2),l=s[0],j=s[1],b=c.a.useState("default"),f=Object(o.a)(b,2),g=f[0],m=f[1],v=c.a.useState("red"),w=Object(o.a)(v,2),y=w[0],k=w[1],C=function(){var e=Object(I.a)(P.a.mark((function e(t,a){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new z(t,a,y),e.next=3,n.encode().then((function(e){j(e),console.log("renewed url:",e),console.log("renewed src:",l),m("has-encoded")}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"view",children:Object(d.jsxs)(h.a,{style:D.card,children:[Object(d.jsx)(h.a.Img,{className:["expand-transition","image-preview image-preview--expanded"],src:l,style:D.cardImg,variant:"top"}),Object(d.jsxs)(h.a.Body,{children:[Object(d.jsx)(u,{image:e.image,children:"has-encoded"===g&&Object(d.jsxs)("span",{children:[Object(d.jsx)("b",{style:D.bold,children:"Message encoded!"})," Click the button below to download your steganographic photo."]})}),Object(d.jsx)(T,{setMessage:r}),"default"===g&&Object(d.jsx)(p,{checked:y,handleChecked:k,showAlpha:"png"===e.image.getFileType()}),"default"===g&&Object(d.jsxs)(O.a,{children:[Object(d.jsx)(x.a,{onClick:function(){return C(e.image,n)},variant:"outline-primary",children:"Encode"}),Object(d.jsx)(x.a,{onClick:function(){e.setView("file-options")},variant:"outline-secondary",children:"Back"})]}),"has-encoded"===g&&Object(d.jsxs)(O.a,{children:[Object(d.jsx)(x.a,{onClick:function(){return function(){var t=document.createElement("a");t.download="encoded_".concat(e.image.getName()),t.href=l,t.click()}()},variant:"outline-primary",children:"Download file"}),Object(d.jsx)(x.a,{onClick:function(){m("default")},variant:"outline-secondary",children:"Back"})]})]})]})})},$=a(56),G={container:{padding:"8px",backgroundColor:"#f8f9fa"},code:{backgroundColor:"#f8f9fa"}},J=function(e){return Object(d.jsxs)(h.a.Text,{style:G.container,children:[e.message.length>0&&Object(d.jsx)("code",{style:G.code,children:e.message}),0===e.message.length&&Object(d.jsx)("code",{style:G.code})]})},K=Object(U.a)("_mapChannelToIndex"),q=Object(U.a)("_imageParser"),Q=Object(U.a)("_channel"),X=Object(U.a)("_channelIndex"),Y=function e(t,a){var n=this;Object(F.a)(this,e),this.decode=Object(I.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=Object(N.a)(n,q)[q].getPixelBuffer().data;console.log("channel, index: ",Object(N.a)(n,Q)[Q],Object(N.a)(n,X)[X]);for(var a=0,c="",r="",i=0,o=0;i<t.length;i+=4,o++){if(i>0&&a%8===0){var s=V(c);if(!/^[ -~]+$/.test(s)){console.warn("Non-Ascii char found: 0b".concat(c));break}r+=s,c=""}else c+=t[i+Object(N.a)(n,X)[X]]%2;a+=1}return e(r.trim())})));case 1:case"end":return e.stop()}}),e)}))),this.setColorChannel=function(e){Object(N.a)(n,Q)[Q]=e,Object(N.a)(n,X)[X]=Object(N.a)(n,K)[K]()},this.getColorChannel=function(){return Object(N.a)(n,Q)[Q]},Object.defineProperty(this,K,{writable:!0,value:function(){switch(Object(N.a)(n,Q)[Q]){case"red":return 0;case"green":return 1;case"blue":return 2;case"alpha":return 3;default:return 2}}}),Object.defineProperty(this,q,{writable:!0,value:void 0}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),Object.defineProperty(this,X,{writable:!0,value:void 0}),Object(N.a)(this,q)[q]=t,a?Object(N.a)(this,Q)[Q]=a:a="red",Object(N.a)(this,X)[X]=Object(N.a)(this,K)[K]()},Z={card:{width:"36rem",marginTop:"9rem",alignSelf:"center"},cardImg:{width:"100%",alignSelf:"center",objectFit:"cover",overflow:"hidden"},bold:{fontWeight:"500"},alert:{cursor:"pointer"}},ee=function(e){var t=c.a.useState("default"),a=Object(o.a)(t,2),n=a[0],r=a[1],i=c.a.useState(),s=Object(o.a)(i,2),l=s[0],j=s[1],b=c.a.useState(!1),f=Object(o.a)(b,2),g=f[0],m=f[1],v=c.a.useState("red"),w=Object(o.a)(v,2),y=w[0],k=w[1],C=function(){var e=Object(I.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Y(t,y),e.next=3,a.decode().then((function(e){console.log("recieved:",e),j(e),r("has-decoded")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"view",children:Object(d.jsxs)(h.a,{style:Z.card,children:[Object(d.jsx)(h.a.Img,{className:["expand-transition","image-preview image-preview--expanded"],src:e.image.getUrl(),style:Z.cardImg,variant:"top"}),Object(d.jsxs)(h.a.Body,{children:[Object(d.jsxs)(u,{image:e.image,children:["has-decoded"===n&&l.length>0&&Object(d.jsxs)("span",{children:[Object(d.jsx)("b",{style:Z.bold,children:"Message decoded!"})," Click the button below to copy the message to your clipboard."]}),"has-decoded"===n&&0===l.length&&Object(d.jsxs)("span",{children:[Object(d.jsx)("b",{style:Z.bold,children:"No parsable ascii-encoded messages were found..."})," ",Object(d.jsx)("br",{}),"Maybe try another decoding with a different RGBA channel?"]})]}),"has-decoded"===n&&Object(d.jsx)(J,{message:l}),Object(d.jsx)($.a,{show:g,variant:"primary",onClick:function(){return m(!1)},style:Z.alert,children:"Copied to clipboard!"}),"default"===n&&Object(d.jsx)(p,{checked:y,handleChecked:k,showAlpha:"png"===e.image.getFileType()}),"default"===n&&Object(d.jsxs)(O.a,{children:[Object(d.jsx)(x.a,{onClick:function(){return C(e.image)},variant:"outline-primary",children:"Decode"}),Object(d.jsx)(x.a,{onClick:function(){e.setView("file-options")},variant:"outline-secondary",children:"Back"})]}),"has-decoded"===n&&Object(d.jsxs)(O.a,{children:[Object(d.jsx)(x.a,{onClick:function(){navigator.clipboard.writeText(l).then((function(){m(!0),setTimeout((function(){m(!1)}),6e3)}))},variant:"outline-primary",disabled:0===l.length,children:"Copy to clipboard"}),Object(d.jsx)(x.a,{onClick:function(){r("default")},variant:"outline-secondary",children:"Back"})]})]})]})})},te=Object(U.a)("_dec2HexCSubstr"),ae=function e(t){var a=this;if(Object(F.a)(this,e),this.rgba={r:void 0,g:void 0,b:void 0,a:void 0},this.hex="",this.toPixel=function(e){a.rgba.r=e[0],a.rgba.g=e[1],a.rgba.b=e[2],a.rgba.a=e[3]/255;var t=Object(N.a)(a,te)[te](e[0]),n=Object(N.a)(a,te)[te](e[1]),c=Object(N.a)(a,te)[te](e[2]);return a.hex="#"+t+n+c,{rgba:a.rgba,hex:a.hex}},Object.defineProperty(this,te,{writable:!0,value:function(e){var t=e.toString(16);return t.length>1?t:"0".concat(t)}}),t){this.rgba.r=t[0],this.rgba.g=t[1],this.rgba.b=t[2],this.rgba.a=t[3]/255;var n=Object(N.a)(this,te)[te](t[0]),c=Object(N.a)(this,te)[te](t[1]),r=Object(N.a)(this,te)[te](t[2]);this.hex="#"+n+c+r}},ne=Object(U.a)("_loadImage"),ce=Object(U.a)("_validateImage"),re=Object(U.a)("_isValidRange"),ie=Object(U.a)("_imageHasLoaded"),oe=Object(U.a)("_isValidFile"),se=Object(U.a)("_data"),le=Object(U.a)("_url"),de=Object(U.a)("_img"),je=Object(U.a)("_height"),be=Object(U.a)("_width"),he=Object(U.a)("_canvas"),ue=Object(U.a)("_ctx"),Oe=function e(t){var a=this;Object(F.a)(this,e),this.loadFile=function(e){Object(N.a)(a,ce)[ce](e)?(Object(N.a)(a,oe)[oe]=!0,Object(N.a)(a,se)[se]=e,Object(N.a)(a,le)[le]=URL.createObjectURL(e),console.log("loaded")):console.warn("Error loading file: ",e)},this.parse=Object(I.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(N.a)(a,ie)[ie]){e.next=4;break}console.log("Image was already parsed: ",a),e.next=10;break;case 4:if(!Object(N.a)(a,oe)[oe]){e.next=9;break}return e.next=7,Object(N.a)(a,ne)[ne]().then((function(e){Object(N.a)(a,de)[de]=e,Object(N.a)(a,je)[je]=e.height,Object(N.a)(a,be)[be]=e.width,Object(N.a)(a,he)[he]=new OffscreenCanvas(e.width,e.height),Object(N.a)(a,ue)[ue]=Object(N.a)(a,he)[he].getContext("2d"),Object(N.a)(a,ue)[ue].drawImage(Object(N.a)(a,de)[de],0,0),Object(N.a)(a,ie)[ie]=!0}));case 7:e.next=10;break;case 9:console.error("Invalid file type: ",Object(N.a)(a,se)[se].type);case 10:case"end":return e.stop()}}),e)}))),this.getHeight=function(){if(Object(N.a)(a,oe)[oe])return Object(N.a)(a,je)[je]},this.getWidth=function(){if(Object(N.a)(a,oe)[oe])return Object(N.a)(a,be)[be]},this.getResolution=function(){if(Object(N.a)(a,oe)[oe])return[Object(N.a)(a,je)[je],Object(N.a)(a,be)[be]]},this.getName=function(){if(Object(N.a)(a,oe)[oe])return Object(N.a)(a,se)[se].name},this.getUrl=function(){if(Object(N.a)(a,oe)[oe])return Object(N.a)(a,le)[le]},this.getFileType=function(){if(Object(N.a)(a,oe)[oe])return/^image\/(png|jpe?g|gif)$/.exec(Object(N.a)(a,se)[se].type)[1]},this.getFileSize=function(){if(Object(N.a)(a,oe)[oe]){var e=Object(N.a)(a,se)[se].size,t=e/1e3,n=e/1e6;return n>1?"".concat(n," Mb"):t>1?"".concat(t," Kb"):"".concat(e," B")}},this.getPixel=function(e,t){if(Object(N.a)(a,oe)[oe]&&Object(N.a)(a,ie)[ie]){if(Object(N.a)(a,re)[re](e,t)){var n=Object(N.a)(a,ue)[ue].getImageData(e,t,1,1).data;return new ae(n)}console.error("Not a valid pixel; (".concat(e,", ").concat(t,") is not in range of (").concat(Object(N.a)(a,be)[be],", ").concat(Object(N.a)(a,je)[je],")"))}else Object(N.a)(a,ie)[ie]||console.error("Image has not loaded, call ImageParser.parse() first.")},this.getPixelBuffer=function(){if(Object(N.a)(a,oe)[oe]&&Object(N.a)(a,ie)[ie])return Object(N.a)(a,ue)[ue].getImageData(0,0,Object(N.a)(a,be)[be],Object(N.a)(a,je)[je]);Object(N.a)(a,ie)[ie]||console.error("Image has not loaded, call ImageParser.parse() first.")},this.setPixelBuffer=function(){var e=Object(I.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){Object(N.a)(a,oe)[oe]&&Object(N.a)(a,ie)[ie]?(Object(N.a)(a,ue)[ue].putImageData(t,0,0),Object(N.a)(a,he)[he][Object(N.a)(a,he)[he].convertToBlob?"convertToBlob":"toBlob"]().then((function(t){Object(N.a)(a,le)[le]=URL.createObjectURL(t),e(Object(N.a)(a,le)[le]),console.log("new url set (parser)",Object(N.a)(a,le)[le])}))):Object(N.a)(a,ie)[ie]||console.error("Image has not loaded, call ImageParser.parse() first.")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._getCanvas=function(){return Object(N.a)(a,he)[he]},this._getCanvasContext=function(){return Object(N.a)(a,ue)[ue]},this.isLoaded=function(){return Object(N.a)(a,ie)[ie]},Object.defineProperty(this,ne,{writable:!0,value:function(){return new Promise((function(e){var t=new Image;t.src=Object(N.a)(a,le)[le],t.onload=function(){return e(t)}}))}}),Object.defineProperty(this,ce,{writable:!0,value:function(e){return/^image\/(png|jpe?g|gif)$/.test(e.type)}}),Object.defineProperty(this,re,{writable:!0,value:function(e,t){return 0<=t<=Object(N.a)(a,je)[je]&&0<=e<=Object(N.a)(a,be)[be]}}),Object.defineProperty(this,ie,{writable:!0,value:void 0}),Object.defineProperty(this,oe,{writable:!0,value:void 0}),Object.defineProperty(this,se,{writable:!0,value:void 0}),Object.defineProperty(this,le,{writable:!0,value:void 0}),Object.defineProperty(this,de,{writable:!0,value:void 0}),Object.defineProperty(this,je,{writable:!0,value:void 0}),Object.defineProperty(this,be,{writable:!0,value:void 0}),Object.defineProperty(this,he,{writable:!0,value:void 0}),Object.defineProperty(this,ue,{writable:!0,value:void 0}),Object(N.a)(this,ie)[ie]=!1,t&&(Object(N.a)(this,ce)[ce](t)?(Object(N.a)(this,oe)[oe]=!0,Object(N.a)(this,se)[se]=t,Object(N.a)(this,le)[le]=URL.createObjectURL(t)):Object(N.a)(this,oe)[oe]=!1)},fe=(a(45),new Oe),ge=function(){var e=c.a.useState(),t=Object(o.a)(e,2),a=t[0],n=t[1];return c.a.useEffect((function(){console.log("view changed: ",a)}),[a]),Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)(b,{}),"upload-file"===a&&Object(d.jsx)(w,{setView:n,image:fe}),"file-options"===a&&Object(d.jsx)(k,{setView:n,image:fe}),"encode-file"===a&&Object(d.jsx)(W,{setView:n,image:fe}),"decode-file"===a&&Object(d.jsx)(ee,{setView:n,image:fe}),!a&&Object(d.jsx)(w,{setView:n,image:fe})]})};a(46),a(47);i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(ge,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.97ae3c07.chunk.js.map