{"version":3,"sources":["components/NavigationBar.js","components/ImageDetails.js","components/RgbaButtonGroup.js","views/upload-file/UploadButton.js","views/upload-file/UploadFile.js","views/file-options/FileOptions.js","views/encode-file/TextArea.js","util/util.js","util/SteganographyEncoder.js","views/encode-file/EncodeFile.js","views/decode-file/DecodedTextSection.js","util/SteganographyDecoder.js","views/decode-file/DecodeFile.js","util/Pixel.js","util/ImageParser.js","App.js","index.js"],"names":["styles","navbar","backgroundColor","NavigationBar","Navbar","expand","bg","style","Brand","href","Nav","className","Link","onClick","window","location","reload","ImageDetails","props","Card","Title","image","getName","Text","getHeight","getWidth","getFileType","getFileSize","children","container","padding","paddingBottom","RgbaButtonGroup","ButtonGroup","toggle","ToggleButton","checked","onChange","handleChecked","type","variant","showAlpha","UploadButton","fileInput","React","useRef","Button","current","click","ref","e","file","target","files","handleFileUpload","display","card","width","marginTop","alignSelf","UploadFile","Body","console","log","setView","loadFile","cardImg","objectFit","overflow","ImageOptions","useState","isLoaded","setLoaded","fullImage","setFullImage","useEffect","parse","then","Img","src","getUrl","margin","TextArea","InputGroup","Prepend","FormControl","setMessage","value","as","aria-label","binaryToAsciiChar","bin","ch","String","fromCharCode","parseInt","SteganographyEncoder","message","channel","encode","a","Promise","res","str","imageData","getPixelBuffer","colorData","data","messageBin","Array","from","reduce","acc","char","concat","charCodeAt","toString","map","repeat","length","join","cursor","i","j","setPixelBuffer","url","setColorChannel","val","getColorChannel","this","bold","fontWeight","EncodeFile","setSrc","mode","setMode","setChecked","handleEncode","encoder","anchor","document","createElement","download","handleDownload","code","DecodedTextSection","SteganographyDecoder","decode","charBin","test","warn","trim","alert","DecodeFile","showAlert","setShowAlert","handleDecode","decoder","msg","Alert","show","navigator","clipboard","writeText","setTimeout","disabled","Pixel","rgba","r","undefined","g","b","hex","toPixel","hexR","hexG","hexB","dec","hexStr","ImageParser","URL","createObjectURL","height","OffscreenCanvas","getContext","drawImage","error","getResolution","name","exec","bytes","size","kb","mb","getPixel","x","y","getImageData","pixelData","putImageData","convertToBlob","blob","_getCanvas","_getCanvasContext","img","Image","onload","imageParser","App","view","FileOptions","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.97ae3c07.chunk.js","sourcesContent":["import React from 'react'\nimport { \n  Navbar, \n  Nav, \n} from 'react-bootstrap'\n\nconst NavigationBar = () => {\n  return(\n    <Navbar expand=\"lg\" bg=\"light\" style={styles.navbar}>\n      <Navbar.Brand href=\"/\">\n        CS 432 Cryptography Project\n      </Navbar.Brand>\n      <Nav className=\"mr-auto\">\n        <Nav.Link onClick={() => window.location.reload()}>Home</Nav.Link>\n        <Nav.Link href=\"https://github.com/nbennett320/cs-432-cryptography-project\">About</Nav.Link>\n      </Nav>\n    </Navbar>\n  )\n}\n\nconst styles = {\n  navbar: {\n    backgroundColor: '#f8f9fa'\n  }\n}\n\nexport default NavigationBar","import React from 'react'\nimport { Card } from 'react-bootstrap'\n\nconst ImageDetails = props => {\n  return(\n    <>\n      <Card.Title>Filename: {props.image.getName()}</Card.Title>\n      <Card.Text>\n        Image resolution: {props.image.getHeight()} &times; \n        {props.image.getWidth()} pixels\n        <br/>\n        File type: {props.image.getFileType()}\n        <br/>\n        Size: {props.image.getFileSize()}\n        <br/>\n        {/* append any children */}\n        {props.children}\n      </Card.Text>\n    </>\n  )\n}\n\nexport default ImageDetails","import React from 'react'\nimport { \n  ToggleButton,\n  ButtonGroup\n} from 'react-bootstrap'\n\nconst RgbaButtonGroup = props => {\n  return (\n    <div style={styles.container}>\n      <ButtonGroup toggle>\n        <ToggleButton\n          checked={props.checked === 'red'}\n          onChange={() => props.handleChecked('red')}\n          type='radio'\n          variant='danger'\n        >\n          Red\n        </ToggleButton>\n        <ToggleButton\n          checked={props.checked === 'green'}\n          onChange={() => props.handleChecked('green')}\n          type='radio'\n          variant='success'\n        >\n          Green\n        </ToggleButton>\n        <ToggleButton\n          checked={props.checked === 'blue'}\n          onChange={() => props.handleChecked('blue')}\n          type='radio'\n          variant='primary'\n        >\n          Blue\n        </ToggleButton>\n        {props.showAlpha && <ToggleButton\n          checked={props.checked === 'alpha'}\n          onChange={() => props.handleChecked('alpha')}\n          type='radio'\n          variant='secondary'\n        >\n          Alpha\n        </ToggleButton>}\n      </ButtonGroup>\n    </div>\n  )\n}\n\nconst styles = {\n  container: {\n    padding: '8px 0',\n    paddingBottom: '12px'\n  }\n}\n\nexport default RgbaButtonGroup","import React from 'react'\nimport { Button } from 'react-bootstrap'\n\nconst UploadButton = props => {\n  const fileInput = React.useRef()\n  \n  // handle upload button click\n  const handleClick = () => {\n    fileInput.current.click()\n  }\n\n  // handle when user uploads new file\n  const handleChange = e => {\n    const file = e.target.files[0]\n    props.handleFileUpload(file)\n  }\n\n  return (\n    <Button\n      onClick={handleClick}\n      variant=\"primary\"\n    >\n      Upload\n      <input \n        type=\"file\" \n        ref={fileInput}\n        onChange={handleChange}\n        style={{display: 'none'}}\n      />\n    </Button>\n  )\n}\n\nexport default UploadButton","import React from 'react'\nimport { Card } from 'react-bootstrap'\nimport UploadButton from './UploadButton'\n\nconst UploadFile = props => {\n  const handleFileUpload = file => {\n    if(file) {\n      console.log(\"filetype js:\", typeof file)\n      props.setView('file-options')\n      props.image.loadFile(file)\n    }\n  }\n\n  return (\n    <div className=\"view\">\n      <Card style={styles.card}>\n        <Card.Body>\n          <Card.Title>Select file</Card.Title>\n          <Card.Text>\n            Upload a photo or audio file you wish to encode with a message\n            or extract a message from.\n          </Card.Text>\n          <UploadButton handleFileUpload={handleFileUpload} />\n        </Card.Body>\n      </Card>\n    </div>\n  )\n}\n\nconst styles = {\n  card: {\n    width: '18rem',\n    marginTop: '9rem',\n    alignSelf: 'center'\n  }\n}\n\nexport default UploadFile","import React from 'react'\nimport { \n  Card, \n  Button,\n  ButtonGroup\n} from 'react-bootstrap'\nimport '../../styles/transitions.css'\n\nconst ImageOptions = props => {\n  const [isLoaded, setLoaded] = React.useState(false)\n  const [fullImage, setFullImage] = React.useState(false)\n  \n  React.useEffect(() => {\n    props.image.parse().then(() => {\n      setLoaded(true)\n    }, [isLoaded])\n  })\n\n  return (\n    <div className=\"view\">\n      <Card style={styles.card}>\n        <Card.Img \n          className={[\n            \"expand-transition\", \n            fullImage ? \"image-preview image-preview--expanded\" : \"image-preview\"\n          ]}\n          src={props.image.getUrl()}\n          style={styles.cardImg}\n          variant=\"top\"\n        />\n        <Card.Body>\n          <Card.Title>Filename: {props.image.getName()}</Card.Title>\n          <Card.Text>\n            Image resolution: {props.image.getHeight()} &times; \n            {props.image.getWidth()} pixels\n            <br/>\n            File type: {props.image.getFileType()}\n            <br/>\n            Size: {props.image.getFileSize()}\n            <br/>\n          </Card.Text>\n          <ButtonGroup>\n            <Button\n              onClick={() => {props.setView('encode-file')}}\n              variant=\"outline-primary\"\n            >\n              Encode a message\n            </Button>\n            <Button\n              onClick={() => {props.setView('decode-file')}}\n              variant=\"outline-primary\"\n            >\n              Decode from media\n            </Button>\n            <Button\n              onClick={() => setFullImage(!fullImage)}\n              variant=\"outline-primary\"\n            >\n              { fullImage ? 'Hide' : 'Show' } Full Image\n            </Button>\n            <Button\n              onClick={() => window.location.reload()}\n              variant=\"outline-primary\"\n            >\n              Back\n            </Button>\n          </ButtonGroup>\n        </Card.Body>\n      </Card>\n    </div>\n  )\n}\n\nconst styles = {\n  card: {\n    width: '36rem',\n    marginTop: '9rem',\n    alignSelf: 'center',\n  },\n  cardImg: {\n    width: '100%',\n    alignSelf: 'center',\n    objectFit: 'cover',\n    overflow: 'hidden',\n  }\n}\n\nexport default ImageOptions","import React from 'react'\nimport { InputGroup, FormControl } from 'react-bootstrap'\n\nconst TextArea = props => {\n  const handleChange = e => props.setMessage(e.target.value)\n\n  return (\n    <div style={styles.container}>\n      <InputGroup>\n        <InputGroup.Prepend>\n          <InputGroup.Text>Message:</InputGroup.Text>\n        </InputGroup.Prepend>\n        <FormControl \n          onChange={handleChange}\n          as=\"textarea\" \n          aria-label=\"With textarea\" \n        />\n      </InputGroup>\n    </div>\n  )\n}\n\nconst styles = {\n  container: {\n    margin: '12px 0'\n  }\n}\n\nexport default TextArea","// util functions\n\nexport const range = (start, end) => {\n  const length = end - start\n  return Array.from({ length }, (_, i) => start + i)\n}\n\nexport const stringToBinary = str => {\n  return Array\n    .from(str)\n    .reduce((acc, char) => acc.concat(char.charCodeAt().toString(2)), [])\n    .map(bin => '0'.repeat(8 - bin.length) + bin )\n    .join('')\n}\n\nexport const binaryToAsciiChar = bin => {\n  const ch = String.fromCharCode(parseInt(bin, 2))\n  console.log(\"ch\",ch)\n  return ch\n}\n\nexport const isAscii = str => {\n  return /^[ -~]+$/.test(str)\n}\n","import { stringToBinary } from './util'\n\n/**\n * \n */\nclass SteganographyEncoder {\n  /**\n   * Initialize new encoder with prepared image parser \n   * and a message to encode\n   * @param {ImageParser} image \n   * @param {String} message \n   */\n  constructor(image, message, channel) {\n    this.#_imageParser = image\n    this.#_message = message\n    if(channel) {\n      this.#_channel = channel\n    } else {\n      channel = 'red'\n    }\n    this.#_channelIndex = this.#_mapChannelToIndex()\n  } \n\n  /**\n   * Encode the message\n   */\n  encode = async () => {\n    return new Promise(res => {\n      const imageData = this.#_imageParser.getPixelBuffer()\n      const colorData = imageData.data\n      const messageBin = stringToBinary(this.#_message)\n  \n      let cursor = 0\n      for(let i = 0, j = 0; i < colorData.length; i += 4, j++) {\n        if(colorData[i + this.#_channelIndex] % 2 === 0) {\n          if(parseInt(messageBin[cursor]) === 1) {\n            colorData[i + this.#_channelIndex] += 1\n          }\n        } else {\n          if(parseInt(messageBin[cursor]) === 0) {\n            colorData[i + this.#_channelIndex] -= 1\n          }\n        }\n        cursor += 1\n        if(cursor >= messageBin.length) break\n      }\n      this.#_imageParser.setPixelBuffer(imageData).then(url => {\n        res(url)\n      })\n    })\n  }\n\n  /**\n   * set color channel to encode into\n   * @param {String} val color \n   */\n  setColorChannel = val => {\n    this.#_channel = val\n    this.#_channelIndex = this.#_mapChannelToIndex()\n  }\n\n  /**\n   * get color channel being encoded into\n   * @returns {String} color channel\n   */\n  getColorChannel = () => {\n    return this.#_channel\n  }\n\n  // private\n\n  /**\n   * Get index of rgba color channel\n   * @returns {Number} index of rgba color channel\n   */\n  #_mapChannelToIndex = () => {\n    switch(this.#_channel) {\n      case 'red': return 0\n      case 'green': return 1\n      case 'blue': return 2\n      case 'alpha': return 3\n      default: return 2\n    }\n  }\n  \n  #_isValidLength = () => {}\n\n  #_imageParser\n\n  #_message\n\n  #_channel\n  \n  #_channelIndex\n\n}\n\nexport default SteganographyEncoder\n","import React from 'react'\nimport { \n  Card, \n  Button,\n  ButtonGroup\n} from 'react-bootstrap'\nimport { \n  ImageDetails,\n  RgbaButtonGroup \n} from '../../components'\nimport TextArea from './TextArea'\nimport SteganographyEncoder from '../../util/SteganographyEncoder'\n\nconst EncodeFile = props => {\n  const [message, setMessage] = React.useState(\"\")\n  const [src, setSrc] = React.useState(props.image.getUrl())\n  const [mode, setMode] = React.useState('default')\n  const [checked, setChecked] = React.useState('red')\n  \n  const handleEncode = async (image, message) => {\n    const encoder = new SteganographyEncoder(image, message, checked)\n    await encoder.encode().then(url => {\n      setSrc(url)\n      console.log(\"renewed url:\", url)\n      console.log(\"renewed src:\", src)\n      setMode('has-encoded')\n    })\n  }\n\n  const handleDownload = () => {\n    const anchor = document.createElement('a')\n    anchor.download = `encoded_${props.image.getName()}`\n    anchor.href = src\n    anchor.click()\n  }\n  \n  return (\n    <div className=\"view\">\n      <Card style={styles.card}>\n        <Card.Img \n          className={[\n            \"expand-transition\", \n            \"image-preview image-preview--expanded\"\n          ]}\n          src={src}\n          style={styles.cardImg}\n          variant=\"top\"\n        />\n        <Card.Body>\n          <ImageDetails image={props.image}>\n            {mode === 'has-encoded' && <span>\n              <b style={styles.bold}>Message encoded!</b> Click the button below to download your steganographic photo.\n            </span>}\n          </ImageDetails>\n          <TextArea setMessage={setMessage} />\n          {mode === 'default' && <RgbaButtonGroup \n            checked={checked}\n            handleChecked={setChecked}\n            showAlpha={props.image.getFileType() === 'png'}\n          />}\n          {mode === 'default' && <ButtonGroup>\n            <Button\n              onClick={() => handleEncode(props.image, message)}\n              variant=\"outline-primary\"\n            >\n              Encode\n            </Button>\n            <Button\n              onClick={() => {props.setView('file-options')}}\n              variant=\"outline-secondary\"\n            >\n              Back\n            </Button>\n          </ButtonGroup>}\n          {mode === 'has-encoded' && <ButtonGroup>\n            <Button\n              onClick={() => handleDownload()}\n              variant=\"outline-primary\"\n            >\n              Download file\n            </Button>\n            <Button\n              onClick={() => {setMode('default')}}\n              variant=\"outline-secondary\"\n            >\n              Back\n            </Button>\n          </ButtonGroup>}\n        </Card.Body>\n      </Card>\n    </div>\n  )\n}\n\nconst styles = {\n  card: {\n    width: '36rem',\n    marginTop: '9rem',\n    alignSelf: 'center',\n  },\n  cardImg: {\n    width: '100%',\n    alignSelf: 'center',\n    objectFit: 'cover',\n    overflow: 'hidden',\n  },\n  bold: {\n    fontWeight: '500'\n  }\n}\n\nexport default EncodeFile","import React from 'react'\nimport { Card } from 'react-bootstrap'\n\nconst DecodedTextSection = props => {\n  return (\n    <Card.Text style={styles.container}>\n      {props.message.length > 0 && <code style={styles.code}>\n        {props.message}\n      </code>}\n      {props.message.length === 0 && <code style={styles.code}>\n        \n      </code>}\n    </Card.Text>\n  )\n}\n\nconst styles = {\n  container: {\n    padding: '8px',\n    backgroundColor: '#f8f9fa'\n  },\n  code: {\n    backgroundColor: '#f8f9fa'\n  }\n}\n\nexport default DecodedTextSection","import { \n  binaryToAsciiChar,\n  isAscii\n} from './util'\n\n/**\n * \n */\nclass SteganographyDecoder {\n  /**\n   * Initialize new encoder with prepared image parser \n   * and a message to encode\n   * @param {ImageParser} image \n   */\n  constructor(image, channel) {\n    this.#_imageParser = image\n    if(channel) {\n      this.#_channel = channel\n    } else {\n      channel = 'red'\n    }\n    this.#_channelIndex = this.#_mapChannelToIndex()\n  } \n\n  /**\n   * Decode the message\n   * @returns {Promise} message\n   */\n  decode = async () => {\n    return new Promise(res => {\n      const imageData = this.#_imageParser.getPixelBuffer()\n      const colorData = imageData.data\n      console.log(\"channel, index: \", this.#_channel, this.#_channelIndex)\n      \n      let cursor = 0\n      let charBin = \"\"\n      let message = \"\"\n      for(let i = 0, j = 0; i < colorData.length; i += 4, j++) {\n        if((i > 0) && (cursor % 8 === 0)) {\n          const ch = binaryToAsciiChar(charBin)\n          if(isAscii(ch)) {\n            message += ch\n            charBin = \"\"\n          } else {\n            console.warn(`Non-Ascii char found: 0b${charBin}`)\n            break\n          }\n        } else {\n          charBin += colorData[i + this.#_channelIndex] % 2\n        }\n        cursor += 1\n      }\n      return res(message.trim())\n    })\n  }\n\n  \n  /**\n   * set color channel to encode into\n   * @param {String} val color \n   */\n  setColorChannel = val => {\n    this.#_channel = val\n    this.#_channelIndex = this.#_mapChannelToIndex()\n  }\n  \n  /**\n   * get color channel being encoded into\n   * @returns {String} color channel\n   */\n  getColorChannel = () => {\n    return this.#_channel\n  }\n  \n  // private\n\n  /**\n   * Get index of rgba color channel\n   * @returns {Number} index of rgba color channel\n   */\n  #_mapChannelToIndex = () => {\n    switch(this.#_channel) {\n      case 'red': return 0\n      case 'green': return 1\n      case 'blue': return 2\n      case 'alpha': return 3\n      default: return 2\n    }\n  }\n  \n  #_imageParser\n\n  #_channel\n  \n  #_channelIndex\n\n}\n\nexport default SteganographyDecoder","import React from 'react'\nimport { \n  Card, \n  Button,\n  ButtonGroup,\n  Alert\n} from 'react-bootstrap'\nimport { \n  ImageDetails,\n  RgbaButtonGroup \n} from '../../components'\nimport DecodedTextSection from './DecodedTextSection'\nimport SteganographyDecoder from '../../util/SteganographyDecoder'\n\nconst DecodeFile = props => {\n  const [mode, setMode] = React.useState('default')\n  const [message, setMessage] = React.useState()\n  const [showAlert, setShowAlert] = React.useState(false)\n  const [checked, setChecked] = React.useState('red')\n\n  const handleDecode = async (image) => {\n    const decoder = new SteganographyDecoder(image, checked)\n    await decoder.decode().then(msg => {\n      console.log('recieved:',msg)\n      setMessage(msg)\n      setMode('has-decoded')\n    })\n  }\n\n  const handleCopy = () => {\n    navigator.clipboard.writeText(message).then(() => {\n      setShowAlert(true)\n      setTimeout(() => {\n        setShowAlert(false)\n      }, 6000)\n    })\n  }\n\n  return (\n    <div className=\"view\">\n      <Card style={styles.card}>\n        <Card.Img \n          className={[\n            \"expand-transition\", \n            \"image-preview image-preview--expanded\"\n          ]}\n          src={props.image.getUrl()}\n          style={styles.cardImg}\n          variant=\"top\"\n        />\n        <Card.Body>\n          <ImageDetails image={props.image}>\n            {(mode === 'has-decoded') && (message.length > 0) && <span>\n              <b style={styles.bold}>Message decoded!</b> Click the button below to copy the message to your clipboard.\n            </span>}\n            {(mode === 'has-decoded') && (message.length === 0) && <span>\n              <b style={styles.bold}>No parsable ascii-encoded messages were found...</b> <br />Maybe try another decoding with a different RGBA channel?\n            </span>}\n          </ImageDetails>\n          {mode === 'has-decoded' && <DecodedTextSection message={message} />}\n          <Alert \n            show={showAlert}\n            variant=\"primary\"\n            onClick={() => setShowAlert(false)}\n            style={styles.alert}\n          >\n            Copied to clipboard!\n          </Alert>\n          {mode === 'default' && <RgbaButtonGroup \n            checked={checked}\n            handleChecked={setChecked}\n            showAlpha={props.image.getFileType() === 'png'}\n          />}\n          {mode === 'default' && <ButtonGroup>\n            <Button\n              onClick={() => handleDecode(props.image)}\n              variant=\"outline-primary\"\n            >\n              Decode\n            </Button>\n            <Button\n              onClick={() => {props.setView('file-options')}}\n              variant=\"outline-secondary\"\n            >\n              Back\n            </Button>\n          </ButtonGroup>}\n          {mode === 'has-decoded' && <ButtonGroup>\n            <Button\n              onClick={() => {handleCopy()}}\n              variant=\"outline-primary\"\n              disabled={message.length === 0}\n            >\n              Copy to clipboard\n            </Button>\n            <Button\n              onClick={() => {setMode('default')}}\n              variant=\"outline-secondary\"\n            >\n              Back\n            </Button>\n          </ButtonGroup>}\n        </Card.Body>\n      </Card>\n    </div>\n  )\n}\n\nconst styles = {\n  card: {\n    width: '36rem',\n    marginTop: '9rem',\n    alignSelf: 'center',\n  },\n  cardImg: {\n    width: '100%',\n    alignSelf: 'center',\n    objectFit: 'cover',\n    overflow: 'hidden',\n  },\n  bold: {\n    fontWeight: '500'\n  },\n  alert: {\n    cursor: 'pointer'\n  }\n}\n\nexport default DecodeFile","/**\n * @class\n * Define a pixel class with rgba values and hex value\n */\nclass Pixel {\n  /**\n   * Set rgba and hex values\n   * @param {Object} data object containing rgba values\n   */\n  constructor(data) {\n    if(data) {\n      this.rgba.r = data[0]\n      this.rgba.g = data[1]\n      this.rgba.b = data[2]\n      this.rgba.a = data[3] / 255\n      const hexR = this.#_dec2HexCSubstr(data[0])\n      const hexG = this.#_dec2HexCSubstr(data[1])\n      const hexB = this.#_dec2HexCSubstr(data[2])\n      this.hex = '#' + hexR + hexG + hexB\n    }\n  }\n\n  /**\n   * Object containing RGBA values of a pixel color\n   * @property {Object} rgba\n   */\n  rgba = {\n    r: undefined, \n    g: undefined, \n    b: undefined, \n    a: undefined \n  }\n\n  /**\n   * Representation of pixel color in hex color code \n   * @member {String} hex\n   */\n  hex = \"\"\n\n  toPixel = data => {\n    this.rgba.r = data[0]\n    this.rgba.g = data[1]\n    this.rgba.b = data[2]\n    this.rgba.a = data[3] / 255\n    const hexR = this.#_dec2HexCSubstr(data[0])\n    const hexG = this.#_dec2HexCSubstr(data[1])\n    const hexB = this.#_dec2HexCSubstr(data[2])\n    this.hex = '#' + hexR + hexG + hexB\n    return {\n      rgba: this.rgba,\n      hex: this.hex\n    }\n  }\n\n  // private\n\n  /**\n   * Convert decimal integers to a 2-character string, which \n   * is a substring of the color hex value\n   * @param {Number} dec base 10 number\n   * @returns {String} string of hex number\n   */\n  #_dec2HexCSubstr = dec => {\n    const hexStr = dec.toString(16)\n    if(hexStr.length > 1) {\n      return hexStr\n    } else {\n      return `0${hexStr}`\n    }\n  }\n}\n\nexport default Pixel\n","import Pixel from './Pixel'\n\n/**\n * @class\n * Used for parsing images, especially getting and\n * manipulating pixel data\n */\nclass ImageParser {\n  /**\n   * Load a file (but don't parse yet)\n   * @param {Object} file File to load\n   */\n  constructor(file) {\n    this.#_imageHasLoaded = false\n    if(file) {\n      if(this.#_validateImage(file)) {\n        this.#_isValidFile = true\n        this.#_data = file\n        this.#_url = URL.createObjectURL(file)\n      } else {\n        this.#_isValidFile = false\n      }\n    }\n  }\n\n  /**\n   * Load a file (for cases where caller didn't construct\n   * with a file... wish I could just use a separate constructor\n   * like in C++...)\n   */\n  loadFile = file => {\n    if(this.#_validateImage(file)) {\n      this.#_isValidFile = true\n      this.#_data = file\n      this.#_url = URL.createObjectURL(file)\n      console.log(\"loaded\")\n    } else {\n      console.warn(\"Error loading file: \", file)\n    }\n  }\n\n  /**\n   * Create and parse image canvas data if file is valid\n   */ \n  parse = async () => {\n    if(this.#_imageHasLoaded) {\n      // image was already parsed\n      console.log(\"Image was already parsed: \", this)\n    } else if(this.#_isValidFile) {\n      await this.#_loadImage().then(res => {\n        this.#_img = res\n        this.#_height = res.height\n        this.#_width = res.width\n        this.#_canvas = new OffscreenCanvas(res.width, res.height)\n        this.#_ctx = this.#_canvas.getContext('2d')\n        this.#_ctx.drawImage(this.#_img, 0, 0)\n        this.#_imageHasLoaded = true\n      })\n    } else {\n      console.error(\"Invalid file type: \", this.#_data.type)\n    }\n  }\n\n  /**\n   * It does what you think\n   * @returns {Number} n pixels\n   */\n  getHeight = () => {\n    if(this.#_isValidFile) {\n      return this.#_height\n    }\n  }\n\n  /**\n   * It does what you think\n   * @returns {Number} n pixels\n   */\n  getWidth = () => {\n    if(this.#_isValidFile) {\n      return this.#_width\n    }\n  }\n\n  /**\n   * Return height and width\n   * @returns {Array} [height, width]\n   */\n  getResolution = () => {\n    if(this.#_isValidFile) {\n      return [this.#_height, this.#_width]\n    }\n  }\n\n  /**\n   * Get the name of the uploaded file\n   * @returns {String} filename\n   */\n  getName = () => {\n    if(this.#_isValidFile) {\n      return this.#_data.name\n    }\n  }\n\n  /**\n   * Get the url representing the image\n   * @returns {String} url\n   */\n  getUrl = () => {\n    if(this.#_isValidFile) {\n      return this.#_url\n    }\n  }\n\n  /**\n   * Get the file extension of the image\n   * @returns {String} file extension\n   */\n  getFileType = () => {\n    if(this.#_isValidFile) {\n      const matches = /^image\\/(png|jpe?g|gif)$/.exec(this.#_data.type)\n      const ext = matches[1]\n      return ext\n    }\n  }\n\n  /**\n   * Get human-readable file sizeq\n   * @returns {String} file size\n   */\n  getFileSize = () => {\n    if(this.#_isValidFile) {\n      const bytes = this.#_data.size\n      const kb = bytes / 1000\n      const mb = bytes / 1000000\n      if(mb > 1) {\n        return `${mb} Mb`\n      } else if(kb > 1) {\n        return `${kb} Kb`\n      } else {\n        return `${bytes} B`\n      }\n    }\n  }\n\n  /**\n   * Get the pixel at the position (x, y)\n   * @param {Number} x x coord starting from top left of the image\n   * @param {Number} y y coord starting from top left of the image\n   * @returns {Pixel} returns Pixel class at x y position\n   */\n  getPixel = (x, y) => {\n    if(this.#_isValidFile && this.#_imageHasLoaded) {\n      if(this.#_isValidRange(x,y)) {\n        const { data } = this.#_ctx.getImageData(x, y, 1, 1)\n        return new Pixel(data)\n      } else {\n        console.error(`Not a valid pixel; (${x}, ${y}) is not in range of (${this.#_width}, ${this.#_height})`)\n      }\n    } else if(!this.#_imageHasLoaded) {\n      console.error(`Image has not loaded, call ImageParser.parse() first.`)\n    }\n  }\n\n  /**\n   * Get the image as an array of pixels\n   * @returns {CanvasImageData} returns array of pixel data\n   */\n   getPixelBuffer = () => {\n    if(this.#_isValidFile && this.#_imageHasLoaded) {\n      return this.#_ctx.getImageData(0, 0, this.#_width, this.#_height)\n    } else if(!this.#_imageHasLoaded) {\n      console.error(`Image has not loaded, call ImageParser.parse() first.`)\n    }\n  }\n\n  /**\n   * Replace modified Pixel Buffer\n   * @param {CanvasImageData} pixelData \n   */\n  setPixelBuffer = async pixelData => {\n    return new Promise(res => {\n      if(this.#_isValidFile && this.#_imageHasLoaded) {\n        this.#_ctx.putImageData(pixelData, 0, 0)\n        this.#_canvas[\n          this.#_canvas.convertToBlob \n            ? 'convertToBlob' \n            : 'toBlob'\n        ]().then(blob => {\n          this.#_url = URL.createObjectURL(blob)\n          res(this.#_url)\n          console.log(\"new url set (parser)\", this.#_url)\n          })\n      } else if(!this.#_imageHasLoaded) {\n        console.error(`Image has not loaded, call ImageParser.parse() first.`)\n      }\n    })\n  }\n\n  /**\n   * Returns offscreen canvas object\n   * @returns {HTMLCanvasElement} canvas object\n   */\n  _getCanvas = () => this.#_canvas\n\n  /**\n   * Get canvas context\n   * @returns {CanvasRenderingContext2D} canvas context object\n   */\n  _getCanvasContext = () => this.#_ctx\n\n  /**\n   * Return if image has loaded\n   * @returns {Boolean} True if loaded\n   */\n  isLoaded = () => this.#_imageHasLoaded\n\n  // private members & methods\n\n  /**\n   * Load the image\n   * @returns {Promise} promise that resolves after the image loads\n   */\n  #_loadImage = () => new Promise (res => {\n    const img = new Image()\n    img.src = this.#_url\n    img.onload = () => res(img)\n  })\n  \n  /**\n   * Check if image is a valid file type\n   * @param {Object} file file object from uploading\n   * @returns {Boolean} is valid if true\n   */\n  #_validateImage = file => /^image\\/(png|jpe?g|gif)$/.test(file.type)\n\n  /**\n   * Check if pixel is within canvas boundaries\n   * @param {Number} x x position\n   * @param {Number} y y position\n   * @returns {Boolean} is in range if true\n   */\n  #_isValidRange = (x, y) => (0 <= y <= this.#_height) && (0 <= x <= this.#_width)\n\n  #_imageHasLoaded\n  #_isValidFile\n  #_data\n  #_url\n  #_img\n  #_height\n  #_width\n  #_canvas\n  #_ctx\n}\n\nexport default ImageParser\n","import React from 'react'\nimport { NavigationBar } from './components'\nimport { \n  UploadFile,\n  FileOptions,\n  EncodeFile,\n  DecodeFile\n} from './views'\nimport ImageParser from './util/ImageParser'\nimport './styles/App.css'\n\nconst imageParser = new ImageParser()\n\nconst App = () => {\n  // poor man's view router\n  const [view, setView] = React.useState()\n\n  React.useEffect(() => {\n    console.log('view changed: ', view)\n  }, [view])\n\n  return (\n    <div className=\"app\">\n      <NavigationBar />\n      {view === 'upload-file' && <UploadFile \n        setView={setView} \n        image={imageParser}\n      />}\n      {view === 'file-options' && <FileOptions \n        setView={setView} \n        image={imageParser}\n      />}\n      {view === 'encode-file' && <EncodeFile \n        setView={setView} \n        image={imageParser}\n      />}\n      {view === 'decode-file' && <DecodeFile \n        setView={setView} \n        image={imageParser}\n      />}\n      {!view && <UploadFile \n        setView={setView} \n        image={imageParser}\n      />}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './styles/index.css'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}